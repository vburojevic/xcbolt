# Repository Guidelines

## Project Structure & Module Organization
- `cmd/xcbolt/main.go` is the CLI entrypoint.
- `internal/cli` contains Cobra command definitions.
- `internal/tui` holds Bubble Tea models, views, and styles.
- `internal/core` wraps Xcode tooling (`xcodebuild`, `simctl`, `devicectl`, `xcresulttool`) and coordinates operations.
- `internal/util` includes small shared helpers.
- `.xcbolt/config.json` is generated by `xcbolt init` from an Xcode project root and is read by most commands.

## Build, Test, and Development Commands
Use the Makefile for common tasks:

```bash
make tidy   # go mod tidy
make build  # go build -o xcbolt ./cmd/xcbolt
make run    # build + launch ./xcbolt
make test   # go test ./...
```

Useful CLI examples:

```bash
./xcbolt --help
./xcbolt tui
./xcbolt --json build   # NDJSON events
```

## Coding Style & Naming Conventions
- Go standard formatting is expected; run `gofmt` before committing.
- Exported identifiers use `PascalCase`; unexported use `camelCase`.
- Package names are short, lowercase, and match folder names.
- Keep CLI commands in `internal/cli` and wire behavior into `internal/core` to keep UI thin.

## Testing Guidelines
- Tests use the Go `testing` package and live alongside code as `*_test.go`.
- Run the full suite with `go test ./...` or `make test`.
- No explicit coverage threshold is defined; add targeted tests for new core logic.

## Commit & Pull Request Guidelines
- This checkout does not include Git history, so no established commit convention is visible.
- Prefer short, imperative subjects (optionally Conventional Commits, e.g., `feat: add logs filter`).
- PRs should include: a clear summary, testing notes, and screenshots for TUI/UI changes.
- Link related issues and mention any Xcode/tooling assumptions.

## Releases
- Tag pushes (`v*`) trigger the GitHub Actions release workflow (GoReleaser).
- Do not run local `goreleaser release` for tag pushes to avoid asset upload conflicts; let CI publish the release.

## Requirements & Configuration Tips
- Xcode Command Line Tools must be installed (`xcrun`, `xcodebuild`, `simctl`, `devicectl`).
- Run `./xcbolt doctor` to validate environment before debugging failures.
